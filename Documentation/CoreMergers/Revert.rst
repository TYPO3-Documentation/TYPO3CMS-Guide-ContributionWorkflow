.. include:: /Includes.rst.txt

.. index::
   single: Gerrit; Revert a Change
   single: Revert a Change

.. _coreMergers-revert:
.. _lifeOfAPatch-Reverting-Patches:

==============
Revert patches
==============

.. include:: /_includes/CoreMergers.rst.txt

It is important to have traceable code. This means that any person inspecting the bug tracker, Gerrit changes or the
commit log shall be able to trace if a patch has been reverted. Therefore we must add this information to all affected
places.

If there's the need to revert a patch, please stick to the following rules:

#. Create a ticket on Forge for the revert, if there's not yet a bug report. (Maybe re-use the original ticket,
   if you re-push the patch again with the original ticket number.)

#. Visit the original ticket in Forge and

   #. link it to the revert ticket

   #. add a comment to the ticket with information that it is reverted

   #. set the Status from Resolved to Accepted

#. Use the Revert button in Gerrit

#. Modify the commit message of the newly created patch to contain

   #. the commit hash as generated by Gerrit

   #. a description why the revert is needed

   #. a Releases-line that contains all releases where the original patch was merged (check if the backports where
      really merged)

   #. a Resolves-line for the revert ticket as created above (you can skip this if you re-used the original ticket)

   #. a Reverts-line for the ticket of the original patch
